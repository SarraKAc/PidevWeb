{% extends 'base.html.twig' %}

{% block title %}Topic{% endblock %}

{% block body %}

    <div class="page-title aos-init aos-animate" data-aos="fade">
        <div class="heading">
            <div class="container">
                <div class="row d-flex justify-content-center text-center">
                    <div class="col-lg-8">
                        <h1>Topic</h1>
                        <p class="mb-0">Visualiser le topic.</p>
                    </div>
                </div>
            </div>
        </div>

    </div>


    <table class="table">
        <tbody>

            <tr>
                <th>Titre_topic</th>
                <td>{{ topic.titreTopic }}</td>
            </tr>
            <tr>
                <th>Contenu</th>
                <td>{{ topic.contenu }}</td>
            </tr>

            <tr>
                <th>Date</th>
                <td>{{ topic.date ? topic.date|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>Image</th>
                {% if topic.image %}
                    <img src="{{ asset('uploads/images/' ~ topic.image) }}" alt="Image">
                {% else %}
                    Aucune image disponible
                {% endif %}
            </tr>
        </tbody>
    </table>



    <a href="{{ path('app_topic_edit', {'id_topic': topic.id_topic}) }}">Modifier</a>
    <a href="{{ path('app_commentaire_new', {'id_topic': topic.id_topic}) }}">Commentez</a>



    <section id="contact" class="contact section">


        <div class="container aos-init aos-animate" data-aos="fade-up" data-aos-delay="100">

            <div class="row gy-4">

                <div class="col-lg-4">
                    {% for commentaire in commmentaires %}
                        <div> </div>


                        <div class="info-item d-flex aos-init aos-animate" data-aos="fade-up" data-aos-delay="300" style="margin: 20px">

                            <a href="{{ path('app_commentaire_edit', {'id_com': commentaire.idcom}) }}">
                                <i class="fa-solid fa-comment"></i>
                            </a>


                            <div>
                                <h3>Commentaire</h3>
                                <p>{{  commentaire.text}}</p>
                            </div>
                        </div><!-- End Info Item -->


                    {% endfor %}




                </div>

            </div>

        </div>
        {{ include('topic/_delete_form.html.twig') }}

    </section>

{% endblock %}
